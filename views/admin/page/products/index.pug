extends ../../layout/default.pug
include ../../mixins/filterStatus.pug

block main
  h1 Trang danh sách sản phẩm

  .card.mb-3
    .card-header Bộ lọc và Tìm kiếm
    .card-body
      .row
        .col-6
          +filterStatus(filterStatus)
        .col-6 
          form(id= "form-search")
            .input-group
              input(
                type="text",
                placeholder="Nhập từ khóa",
                name="keyword",
                class="form-control"
                value = keyword
              )
              .input-group-append
                button.btn.btn-success(type="submit") Tìm
  br
  br
  .card.mb-3
    .card-header Danh sách sản phẩm 
      br
      br
      table.table.table-hover.table-sm
        thead
          tr
            th STT
            th Hình Ảnh
            th Tiêu Đề
            th Giá
            th Trạng Thái
            th Hành Động
            th Hàng tồn kho

        tbody
          each item,index in Products
            tr
              td #{index + 1}
              td
                img(
                  src=item.thumbnail 
                  alt=item.title 
                  width="100px"
                  height="auto"
                )
              td #{item.title} 
              td #{item.price}$
              td 
                if(item.status == "active")
                  a(href="#", class="btn btn-success") Hoạt động
                else 
                  a(href="#", class="btn btn-danger") Dừng hoạt động
              td
                button(class="btn btn-warning") Sửa
                button(class="btn btn-danger") Xóa
              td 
                if(item.stock < 20)
                  a(href="#", class="btn btn-danger") Low Stock
                else 
                  a(href="#", class="btn btn-success") In Stock
  nav
    ul(class="pagination")
      if (pagination.currentPage > 1)
        li(class="page-item")
          button(class="page-link" button-pagination = pagination.currentPage - 1 ) Trang trước
      - for (var i = 1; i <= pagination.totalsPage ; i++)
        li(class=`page-item ${pagination.currentPage == i ? "active" : "" }`)
          button(class="page-link"
          button-pagination = i 
          ) #{i}
        //- li(class="page-item ")
        //-   button(class="page-link") 2
        //- li(class="page-item")
        //-   button(class="page-link") 3
      if (pagination.currentPage < pagination.totalsPage)
        li(class="page-item")
          button(class="page-link" button-pagination = pagination.currentPage + 1 ) Kế tiếp